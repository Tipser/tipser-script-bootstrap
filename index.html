<!DOCTYPE html>
<html>
    <head>
            <link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald&display=swap" rel="stylesheet">
            <link rel="stylesheet" href="index.css">
    </head>
<body>
    <!-- This is the element where we want to put Tipser cart icon (referred to with CSS selector in mountCart function) -->
    <div id="cart"></div>

    <h2 class="heading">CMS article</h2>
    <!-- This is the element where we want to put CMS content (referred to with CSS selector in mountContent function) -->
    <div class="content-root"></div>

    <h2 class="heading">Tipser product</h2>
    <!-- This is a marker element for tipser product, given tipser product id -->
    <div data-tipser-pid="5911c26c8aa0ce3d70cd607b"></div>

    <h2 class="heading">Tipser product compact</h2>
    <!-- This is a marker element for tipser product with compact mode enabled, given tipser product id -->
    <div data-tipser-pid="57233dac89862012f8ec1001" data-tipser-view="compact"></div>

    <h2 class="heading">Tipser collection (3 elements)</h2>
    <div data-tipser-cid="5bec3f0e8d1736000154335a"></div>

    <h2 class="heading">Tipser collection (1 element)</h2>
    <div data-tipser-cid="5cf524488643910001afc41a"></div>

    <h2 class="heading">Tipser shop</h2>
    <!-- This is a marker element for tipser shop -->
    <div id="tipser_shop"></div>

    <script>
        var scriptTag = document.createElement('script');
        scriptTag.src = "https://cdn.tipser.com/tipser-script/dev.js";
        scriptTag.onload = scriptTag.onreadystatechange = function() {
            tipser.elements('59e86b79b8f3f60a94ecd26a', { //pos id (Tipser user id)
                    //The configuration of tipser widget comes here
                    lang: "en",
                    eventsHandlers: {
                        onError: (error) => {
                            console.log(error)
                        },
                        onAddToCart: ({cartSize, product}) => {
                            console.log('Hurray, you have added item to cart. ', product);
                            console.log('Your cart size is now. ', cartSize);
                        }
            }
                })
                
                .mountCart('#cart') //inserting Tipser cart to the HTML
                .mountContent("nhAXIaw0222dbQTFyUmdV", ".content-root"); //inserting CMS content (referred by contentful id) to the HTML
        };
        document.body.appendChild(scriptTag);
    </script>
</body>
</html>